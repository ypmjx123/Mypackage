% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cox_forest.R
\name{cox_forest}
\alias{cox_forest}
\title{Title
Cox Proportional Hazards Univariate and Multivariate Forest Plot Generator}
\usage{
cox_forest(
  data,
  time_col = "OS_MONTHS",
  status_col = "OS_STATUS",
  Univariate = T,
  univar_predictors = colnames(clin)[c(3:6, 18:22)],
  Multivariate = T,
  multivar_predictors = colnames(clin)[c(3:4, 6, 18:22)],
  show_plots = TRUE,
  xticks1,
  xticks2,
  title_univar = "OS Univariate",
  title_multivar = "OS Multivariate",
  use_baseline_table = TRUE,
  all = T,
  forestplot = T,
  ci_pch = 16,
  ci_col = "red",
  ci_line = "blue",
  zero_col = "#e22e2a",
  log2 = FALSE,
  footnote = NULL
)
}
\arguments{
\item{data}{A data.frame containing survival data and predictors.}

\item{time_col}{Character. Column name that stores the survival (time-to-event) data. Default = "OS_MONTHS".}

\item{status_col}{Character. Column name that stores the event indicator (0 = censored, 1 = event). Default = "OS_STATUS".}

\item{Univariate}{Logical. Whether to perform univariate Cox regression for each predictor. Default = TRUE.}

\item{univar_predictors}{Character vector. Variables to include in univariate analysis. Non-NULL columns must exist in data. Default = selected columns from an object called clin.}

\item{Multivariate}{Logical. Whether to perform multivariate Cox regression using all specified predictors. Default = TRUE.}

\item{multivar_predictors}{Character vector. Variables to include in multivariate analysis. Non-NULL columns must exist in data. Default = selected columns from an object called clin.}

\item{show_plots}{Logical. If TRUE, forest plots are produced for both univariate and multivariate results. Default = TRUE.}

\item{xticks1}{Numeric vector. Custom x-axis tick positions for the univariate forest plot. If NULL, ticks are auto-generated. Default = NULL.}

\item{xticks2}{Numeric vector. Custom x-axis tick positions for the multivariate forest plot. If NULL, ticks are auto-generated. Default = NULL.}

\item{title_univar}{Character. Title for the univariate forest plot. Default = "OS Univariate".}

\item{title_multivar}{Character. Title for the multivariate forest plot. Default = "OS Multivariate".}

\item{use_baseline_table}{Logical. Whether to generate baseline characteristic tables for the selected predictors. Default = TRUE.}

\item{all}{Logical.show missing data or not. Default = TRUE.}

\item{forestplot}{plot with R package 'forestplot' or 'forestploter'. Default = TRUE.}

\item{ci_pch}{the shape of ci frame}

\item{ci_col}{the color of ci frame}

\item{ci_line}{the color of ci line}

\item{zero_col}{the color of reference line}

\item{log2}{Default = FALSE}

\item{footnote}{Default = NULL}
}
\value{
A named list with four top-level elements:
\describe{
  \item{univariate}{A list containing:
    \itemize{
      \item \code{univariate}: data.frame of univariate Cox results (HR, 95%CI, p-value, N(%)).
      \item \code{uniforest}: \code{forestplot} object (or NULL if \code{show_plots = FALSE}).
      \item \code{baseline_table}: data.frame summarising baseline characteristics used in univariate analysis (or NULL if \code{use_baseline_table = FALSE}).
    }
  }
  \item{multivariate}{A list containing:
    \itemize{
      \item \code{multivariate}: data.frame of multivariate Cox results (HR, 95%CI, p-value, N(%)).
      \item \code{multiforest}: \code{forestplot} object (or NULL if \code{show_plots = FALSE}).
      \item \code{baseline_table}: data.frame summarising baseline characteristics used in multivariate analysis (or NULL if \code{use_baseline_table = FALSE}).
    }
  }
  \item{data_used}{The cleaned data.frame that was actually used in the analyses (factors converted, NAs handled).}
}
}
\description{
Title
Cox Proportional Hazards Univariate and Multivariate Forest Plot Generator
}
\examples{
data("aa")
cox = cox_forest(data=aa,
                          time_col = "OS_MONTHS",
                          status_col = "OS_STATUS",
                         Univariate=T,
                         univar_predictors=colnames(aa)[c(6:7,18:21,30,24,25,33)],
                         Multivariate=T,
                         multivar_predictors = colnames(aa)[c(6:7,18:21,30,24,25,33)],
                        show_plots = T,xticks1=NULL,#c(0,0.25,0.5,0.75,1.00,1.25,1.5,6.5,11),
                        xticks2=NULL,#c(0,0.25,0.5,0.75,1.00,2,2.5,6,15),
                        title_univar = "OS Univariate",
                        title_multivar = "OS Multivariate",
                        use_baseline_table = TRUE,all =T,forestplot=F,ci_pch=16,ci_col="red",ci_line="blue",zero_col="#e22e2a",
                        log2=T,footnote=paste("\nHRD1: without HRD value adjusted", "HRD5: with HRD value adjusted (median)", "HRD adjusted = LST-15.5*ploidy+LOH+TAI ",sep = "\n"))

print(cox[["univariate"]][["uniforest"]])
grid::grid.newpage()
print(cox[["multivariate"]][["multiforest"]])

}
\author{
Pengmin Yang
}
